{"ast":null,"code":"var Templater = function Templater(list) {\n  var createItem,\n      templater = this;\n\n  var init = function init() {\n    var itemSource;\n\n    if (typeof list.item === 'function') {\n      createItem = function createItem(values) {\n        var item = list.item(values);\n        return getItemSource(item);\n      };\n\n      return;\n    }\n\n    if (typeof list.item === 'string') {\n      if (list.item.indexOf('<') === -1) {\n        itemSource = document.getElementById(list.item);\n      } else {\n        itemSource = getItemSource(list.item);\n      }\n    } else {\n      /* If item source does not exists, use the first item in list as\n      source for new items */\n      itemSource = getFirstListItem();\n    }\n\n    if (!itemSource) {\n      throw new Error(\"The list needs to have at least one item on init otherwise you'll have to add a template.\");\n    }\n\n    itemSource = createCleanTemplateItem(itemSource, list.valueNames);\n\n    createItem = function createItem() {\n      return itemSource.cloneNode(true);\n    };\n  };\n\n  var createCleanTemplateItem = function createCleanTemplateItem(templateNode, valueNames) {\n    var el = templateNode.cloneNode(true);\n    el.removeAttribute('id');\n\n    for (var i = 0, il = valueNames.length; i < il; i++) {\n      var elm = undefined,\n          valueName = valueNames[i];\n\n      if (valueName.data) {\n        for (var j = 0, jl = valueName.data.length; j < jl; j++) {\n          el.setAttribute('data-' + valueName.data[j], '');\n        }\n      } else if (valueName.attr && valueName.name) {\n        elm = list.utils.getByClass(el, valueName.name, true);\n\n        if (elm) {\n          elm.setAttribute(valueName.attr, '');\n        }\n      } else {\n        elm = list.utils.getByClass(el, valueName, true);\n\n        if (elm) {\n          elm.innerHTML = '';\n        }\n      }\n    }\n\n    return el;\n  };\n\n  var getFirstListItem = function getFirstListItem() {\n    var nodes = list.list.childNodes;\n\n    for (var i = 0, il = nodes.length; i < il; i++) {\n      // Only textnodes have a data attribute\n      if (nodes[i].data === undefined) {\n        return nodes[i].cloneNode(true);\n      }\n    }\n\n    return undefined;\n  };\n\n  var getItemSource = function getItemSource(itemHTML) {\n    if (typeof itemHTML !== 'string') return undefined;\n\n    if (/<tr[\\s>]/g.exec(itemHTML)) {\n      var tbody = document.createElement('tbody');\n      tbody.innerHTML = itemHTML;\n      return tbody.firstElementChild;\n    } else if (itemHTML.indexOf('<') !== -1) {\n      var div = document.createElement('div');\n      div.innerHTML = itemHTML;\n      return div.firstElementChild;\n    }\n\n    return undefined;\n  };\n\n  var getValueName = function getValueName(name) {\n    for (var i = 0, il = list.valueNames.length; i < il; i++) {\n      var valueName = list.valueNames[i];\n\n      if (valueName.data) {\n        var data = valueName.data;\n\n        for (var j = 0, jl = data.length; j < jl; j++) {\n          if (data[j] === name) {\n            return {\n              data: name\n            };\n          }\n        }\n      } else if (valueName.attr && valueName.name && valueName.name == name) {\n        return valueName;\n      } else if (valueName === name) {\n        return name;\n      }\n    }\n  };\n\n  var setValue = function setValue(item, name, value) {\n    var elm = undefined,\n        valueName = getValueName(name);\n    if (!valueName) return;\n\n    if (valueName.data) {\n      item.elm.setAttribute('data-' + valueName.data, value);\n    } else if (valueName.attr && valueName.name) {\n      elm = list.utils.getByClass(item.elm, valueName.name, true);\n\n      if (elm) {\n        elm.setAttribute(valueName.attr, value);\n      }\n    } else {\n      elm = list.utils.getByClass(item.elm, valueName, true);\n\n      if (elm) {\n        elm.innerHTML = value;\n      }\n    }\n  };\n\n  this.get = function (item, valueNames) {\n    templater.create(item);\n    var values = {};\n\n    for (var i = 0, il = valueNames.length; i < il; i++) {\n      var elm = undefined,\n          valueName = valueNames[i];\n\n      if (valueName.data) {\n        for (var j = 0, jl = valueName.data.length; j < jl; j++) {\n          values[valueName.data[j]] = list.utils.getAttribute(item.elm, 'data-' + valueName.data[j]);\n        }\n      } else if (valueName.attr && valueName.name) {\n        elm = list.utils.getByClass(item.elm, valueName.name, true);\n        values[valueName.name] = elm ? list.utils.getAttribute(elm, valueName.attr) : '';\n      } else {\n        elm = list.utils.getByClass(item.elm, valueName, true);\n        values[valueName] = elm ? elm.innerHTML : '';\n      }\n    }\n\n    return values;\n  };\n\n  this.set = function (item, values) {\n    if (!templater.create(item)) {\n      for (var v in values) {\n        if (values.hasOwnProperty(v)) {\n          setValue(item, v, values[v]);\n        }\n      }\n    }\n  };\n\n  this.create = function (item) {\n    if (item.elm !== undefined) {\n      return false;\n    }\n\n    item.elm = createItem(item.values());\n    templater.set(item, item.values());\n    return true;\n  };\n\n  this.remove = function (item) {\n    if (item.elm.parentNode === list.list) {\n      list.list.removeChild(item.elm);\n    }\n  };\n\n  this.show = function (item) {\n    templater.create(item);\n    list.list.appendChild(item.elm);\n  };\n\n  this.hide = function (item) {\n    if (item.elm !== undefined && item.elm.parentNode === list.list) {\n      list.list.removeChild(item.elm);\n    }\n  };\n\n  this.clear = function () {\n    /* .innerHTML = ''; fucks up IE */\n    if (list.list.hasChildNodes()) {\n      while (list.list.childNodes.length >= 1) {\n        list.list.removeChild(list.list.firstChild);\n      }\n    }\n  };\n\n  init();\n};\n\nmodule.exports = function (list) {\n  return new Templater(list);\n};","map":{"version":3,"sources":["C:/Users/PC/Desktop/UNICS_FE/node_modules/list.js/src/templater.js"],"names":["Templater","list","createItem","templater","init","itemSource","item","values","getItemSource","indexOf","document","getElementById","getFirstListItem","Error","createCleanTemplateItem","valueNames","cloneNode","templateNode","el","removeAttribute","i","il","length","elm","undefined","valueName","data","j","jl","setAttribute","attr","name","utils","getByClass","innerHTML","nodes","childNodes","itemHTML","exec","tbody","createElement","firstElementChild","div","getValueName","setValue","value","get","create","getAttribute","set","v","hasOwnProperty","remove","parentNode","removeChild","show","appendChild","hide","clear","hasChildNodes","firstChild","module","exports"],"mappings":"AAAA,IAAIA,SAAS,GAAG,SAAZA,SAAY,CAAUC,IAAV,EAAgB;AAC9B,MAAIC,UAAJ;AAAA,MACEC,SAAS,GAAG,IADd;;AAGA,MAAIC,IAAI,GAAG,SAAPA,IAAO,GAAY;AACrB,QAAIC,UAAJ;;AAEA,QAAI,OAAOJ,IAAI,CAACK,IAAZ,KAAqB,UAAzB,EAAqC;AACnCJ,MAAAA,UAAU,GAAG,oBAAUK,MAAV,EAAkB;AAC7B,YAAID,IAAI,GAAGL,IAAI,CAACK,IAAL,CAAUC,MAAV,CAAX;AACA,eAAOC,aAAa,CAACF,IAAD,CAApB;AACD,OAHD;;AAIA;AACD;;AAED,QAAI,OAAOL,IAAI,CAACK,IAAZ,KAAqB,QAAzB,EAAmC;AACjC,UAAIL,IAAI,CAACK,IAAL,CAAUG,OAAV,CAAkB,GAAlB,MAA2B,CAAC,CAAhC,EAAmC;AACjCJ,QAAAA,UAAU,GAAGK,QAAQ,CAACC,cAAT,CAAwBV,IAAI,CAACK,IAA7B,CAAb;AACD,OAFD,MAEO;AACLD,QAAAA,UAAU,GAAGG,aAAa,CAACP,IAAI,CAACK,IAAN,CAA1B;AACD;AACF,KAND,MAMO;AACL;AACN;AACMD,MAAAA,UAAU,GAAGO,gBAAgB,EAA7B;AACD;;AAED,QAAI,CAACP,UAAL,EAAiB;AACf,YAAM,IAAIQ,KAAJ,CAAU,2FAAV,CAAN;AACD;;AAEDR,IAAAA,UAAU,GAAGS,uBAAuB,CAACT,UAAD,EAAaJ,IAAI,CAACc,UAAlB,CAApC;;AAEAb,IAAAA,UAAU,GAAG,sBAAY;AACvB,aAAOG,UAAU,CAACW,SAAX,CAAqB,IAArB,CAAP;AACD,KAFD;AAGD,GAhCD;;AAkCA,MAAIF,uBAAuB,GAAG,SAA1BA,uBAA0B,CAAUG,YAAV,EAAwBF,UAAxB,EAAoC;AAChE,QAAIG,EAAE,GAAGD,YAAY,CAACD,SAAb,CAAuB,IAAvB,CAAT;AACAE,IAAAA,EAAE,CAACC,eAAH,CAAmB,IAAnB;;AAEA,SAAK,IAAIC,CAAC,GAAG,CAAR,EAAWC,EAAE,GAAGN,UAAU,CAACO,MAAhC,EAAwCF,CAAC,GAAGC,EAA5C,EAAgDD,CAAC,EAAjD,EAAqD;AACnD,UAAIG,GAAG,GAAGC,SAAV;AAAA,UACEC,SAAS,GAAGV,UAAU,CAACK,CAAD,CADxB;;AAEA,UAAIK,SAAS,CAACC,IAAd,EAAoB;AAClB,aAAK,IAAIC,CAAC,GAAG,CAAR,EAAWC,EAAE,GAAGH,SAAS,CAACC,IAAV,CAAeJ,MAApC,EAA4CK,CAAC,GAAGC,EAAhD,EAAoDD,CAAC,EAArD,EAAyD;AACvDT,UAAAA,EAAE,CAACW,YAAH,CAAgB,UAAUJ,SAAS,CAACC,IAAV,CAAeC,CAAf,CAA1B,EAA6C,EAA7C;AACD;AACF,OAJD,MAIO,IAAIF,SAAS,CAACK,IAAV,IAAkBL,SAAS,CAACM,IAAhC,EAAsC;AAC3CR,QAAAA,GAAG,GAAGtB,IAAI,CAAC+B,KAAL,CAAWC,UAAX,CAAsBf,EAAtB,EAA0BO,SAAS,CAACM,IAApC,EAA0C,IAA1C,CAAN;;AACA,YAAIR,GAAJ,EAAS;AACPA,UAAAA,GAAG,CAACM,YAAJ,CAAiBJ,SAAS,CAACK,IAA3B,EAAiC,EAAjC;AACD;AACF,OALM,MAKA;AACLP,QAAAA,GAAG,GAAGtB,IAAI,CAAC+B,KAAL,CAAWC,UAAX,CAAsBf,EAAtB,EAA0BO,SAA1B,EAAqC,IAArC,CAAN;;AACA,YAAIF,GAAJ,EAAS;AACPA,UAAAA,GAAG,CAACW,SAAJ,GAAgB,EAAhB;AACD;AACF;AACF;;AACD,WAAOhB,EAAP;AACD,GAxBD;;AA0BA,MAAIN,gBAAgB,GAAG,SAAnBA,gBAAmB,GAAY;AACjC,QAAIuB,KAAK,GAAGlC,IAAI,CAACA,IAAL,CAAUmC,UAAtB;;AAEA,SAAK,IAAIhB,CAAC,GAAG,CAAR,EAAWC,EAAE,GAAGc,KAAK,CAACb,MAA3B,EAAmCF,CAAC,GAAGC,EAAvC,EAA2CD,CAAC,EAA5C,EAAgD;AAC9C;AACA,UAAIe,KAAK,CAACf,CAAD,CAAL,CAASM,IAAT,KAAkBF,SAAtB,EAAiC;AAC/B,eAAOW,KAAK,CAACf,CAAD,CAAL,CAASJ,SAAT,CAAmB,IAAnB,CAAP;AACD;AACF;;AACD,WAAOQ,SAAP;AACD,GAVD;;AAYA,MAAIhB,aAAa,GAAG,SAAhBA,aAAgB,CAAU6B,QAAV,EAAoB;AACtC,QAAI,OAAOA,QAAP,KAAoB,QAAxB,EAAkC,OAAOb,SAAP;;AAClC,QAAI,YAAYc,IAAZ,CAAiBD,QAAjB,CAAJ,EAAgC;AAC9B,UAAIE,KAAK,GAAG7B,QAAQ,CAAC8B,aAAT,CAAuB,OAAvB,CAAZ;AACAD,MAAAA,KAAK,CAACL,SAAN,GAAkBG,QAAlB;AACA,aAAOE,KAAK,CAACE,iBAAb;AACD,KAJD,MAIO,IAAIJ,QAAQ,CAAC5B,OAAT,CAAiB,GAAjB,MAA0B,CAAC,CAA/B,EAAkC;AACvC,UAAIiC,GAAG,GAAGhC,QAAQ,CAAC8B,aAAT,CAAuB,KAAvB,CAAV;AACAE,MAAAA,GAAG,CAACR,SAAJ,GAAgBG,QAAhB;AACA,aAAOK,GAAG,CAACD,iBAAX;AACD;;AACD,WAAOjB,SAAP;AACD,GAZD;;AAcA,MAAImB,YAAY,GAAG,SAAfA,YAAe,CAAUZ,IAAV,EAAgB;AACjC,SAAK,IAAIX,CAAC,GAAG,CAAR,EAAWC,EAAE,GAAGpB,IAAI,CAACc,UAAL,CAAgBO,MAArC,EAA6CF,CAAC,GAAGC,EAAjD,EAAqDD,CAAC,EAAtD,EAA0D;AACxD,UAAIK,SAAS,GAAGxB,IAAI,CAACc,UAAL,CAAgBK,CAAhB,CAAhB;;AACA,UAAIK,SAAS,CAACC,IAAd,EAAoB;AAClB,YAAIA,IAAI,GAAGD,SAAS,CAACC,IAArB;;AACA,aAAK,IAAIC,CAAC,GAAG,CAAR,EAAWC,EAAE,GAAGF,IAAI,CAACJ,MAA1B,EAAkCK,CAAC,GAAGC,EAAtC,EAA0CD,CAAC,EAA3C,EAA+C;AAC7C,cAAID,IAAI,CAACC,CAAD,CAAJ,KAAYI,IAAhB,EAAsB;AACpB,mBAAO;AAAEL,cAAAA,IAAI,EAAEK;AAAR,aAAP;AACD;AACF;AACF,OAPD,MAOO,IAAIN,SAAS,CAACK,IAAV,IAAkBL,SAAS,CAACM,IAA5B,IAAoCN,SAAS,CAACM,IAAV,IAAkBA,IAA1D,EAAgE;AACrE,eAAON,SAAP;AACD,OAFM,MAEA,IAAIA,SAAS,KAAKM,IAAlB,EAAwB;AAC7B,eAAOA,IAAP;AACD;AACF;AACF,GAhBD;;AAkBA,MAAIa,QAAQ,GAAG,SAAXA,QAAW,CAAUtC,IAAV,EAAgByB,IAAhB,EAAsBc,KAAtB,EAA6B;AAC1C,QAAItB,GAAG,GAAGC,SAAV;AAAA,QACEC,SAAS,GAAGkB,YAAY,CAACZ,IAAD,CAD1B;AAEA,QAAI,CAACN,SAAL,EAAgB;;AAChB,QAAIA,SAAS,CAACC,IAAd,EAAoB;AAClBpB,MAAAA,IAAI,CAACiB,GAAL,CAASM,YAAT,CAAsB,UAAUJ,SAAS,CAACC,IAA1C,EAAgDmB,KAAhD;AACD,KAFD,MAEO,IAAIpB,SAAS,CAACK,IAAV,IAAkBL,SAAS,CAACM,IAAhC,EAAsC;AAC3CR,MAAAA,GAAG,GAAGtB,IAAI,CAAC+B,KAAL,CAAWC,UAAX,CAAsB3B,IAAI,CAACiB,GAA3B,EAAgCE,SAAS,CAACM,IAA1C,EAAgD,IAAhD,CAAN;;AACA,UAAIR,GAAJ,EAAS;AACPA,QAAAA,GAAG,CAACM,YAAJ,CAAiBJ,SAAS,CAACK,IAA3B,EAAiCe,KAAjC;AACD;AACF,KALM,MAKA;AACLtB,MAAAA,GAAG,GAAGtB,IAAI,CAAC+B,KAAL,CAAWC,UAAX,CAAsB3B,IAAI,CAACiB,GAA3B,EAAgCE,SAAhC,EAA2C,IAA3C,CAAN;;AACA,UAAIF,GAAJ,EAAS;AACPA,QAAAA,GAAG,CAACW,SAAJ,GAAgBW,KAAhB;AACD;AACF;AACF,GAjBD;;AAmBA,OAAKC,GAAL,GAAW,UAAUxC,IAAV,EAAgBS,UAAhB,EAA4B;AACrCZ,IAAAA,SAAS,CAAC4C,MAAV,CAAiBzC,IAAjB;AACA,QAAIC,MAAM,GAAG,EAAb;;AACA,SAAK,IAAIa,CAAC,GAAG,CAAR,EAAWC,EAAE,GAAGN,UAAU,CAACO,MAAhC,EAAwCF,CAAC,GAAGC,EAA5C,EAAgDD,CAAC,EAAjD,EAAqD;AACnD,UAAIG,GAAG,GAAGC,SAAV;AAAA,UACEC,SAAS,GAAGV,UAAU,CAACK,CAAD,CADxB;;AAEA,UAAIK,SAAS,CAACC,IAAd,EAAoB;AAClB,aAAK,IAAIC,CAAC,GAAG,CAAR,EAAWC,EAAE,GAAGH,SAAS,CAACC,IAAV,CAAeJ,MAApC,EAA4CK,CAAC,GAAGC,EAAhD,EAAoDD,CAAC,EAArD,EAAyD;AACvDpB,UAAAA,MAAM,CAACkB,SAAS,CAACC,IAAV,CAAeC,CAAf,CAAD,CAAN,GAA4B1B,IAAI,CAAC+B,KAAL,CAAWgB,YAAX,CAAwB1C,IAAI,CAACiB,GAA7B,EAAkC,UAAUE,SAAS,CAACC,IAAV,CAAeC,CAAf,CAA5C,CAA5B;AACD;AACF,OAJD,MAIO,IAAIF,SAAS,CAACK,IAAV,IAAkBL,SAAS,CAACM,IAAhC,EAAsC;AAC3CR,QAAAA,GAAG,GAAGtB,IAAI,CAAC+B,KAAL,CAAWC,UAAX,CAAsB3B,IAAI,CAACiB,GAA3B,EAAgCE,SAAS,CAACM,IAA1C,EAAgD,IAAhD,CAAN;AACAxB,QAAAA,MAAM,CAACkB,SAAS,CAACM,IAAX,CAAN,GAAyBR,GAAG,GAAGtB,IAAI,CAAC+B,KAAL,CAAWgB,YAAX,CAAwBzB,GAAxB,EAA6BE,SAAS,CAACK,IAAvC,CAAH,GAAkD,EAA9E;AACD,OAHM,MAGA;AACLP,QAAAA,GAAG,GAAGtB,IAAI,CAAC+B,KAAL,CAAWC,UAAX,CAAsB3B,IAAI,CAACiB,GAA3B,EAAgCE,SAAhC,EAA2C,IAA3C,CAAN;AACAlB,QAAAA,MAAM,CAACkB,SAAD,CAAN,GAAoBF,GAAG,GAAGA,GAAG,CAACW,SAAP,GAAmB,EAA1C;AACD;AACF;;AACD,WAAO3B,MAAP;AACD,GAnBD;;AAqBA,OAAK0C,GAAL,GAAW,UAAU3C,IAAV,EAAgBC,MAAhB,EAAwB;AACjC,QAAI,CAACJ,SAAS,CAAC4C,MAAV,CAAiBzC,IAAjB,CAAL,EAA6B;AAC3B,WAAK,IAAI4C,CAAT,IAAc3C,MAAd,EAAsB;AACpB,YAAIA,MAAM,CAAC4C,cAAP,CAAsBD,CAAtB,CAAJ,EAA8B;AAC5BN,UAAAA,QAAQ,CAACtC,IAAD,EAAO4C,CAAP,EAAU3C,MAAM,CAAC2C,CAAD,CAAhB,CAAR;AACD;AACF;AACF;AACF,GARD;;AAUA,OAAKH,MAAL,GAAc,UAAUzC,IAAV,EAAgB;AAC5B,QAAIA,IAAI,CAACiB,GAAL,KAAaC,SAAjB,EAA4B;AAC1B,aAAO,KAAP;AACD;;AACDlB,IAAAA,IAAI,CAACiB,GAAL,GAAWrB,UAAU,CAACI,IAAI,CAACC,MAAL,EAAD,CAArB;AACAJ,IAAAA,SAAS,CAAC8C,GAAV,CAAc3C,IAAd,EAAoBA,IAAI,CAACC,MAAL,EAApB;AACA,WAAO,IAAP;AACD,GAPD;;AAQA,OAAK6C,MAAL,GAAc,UAAU9C,IAAV,EAAgB;AAC5B,QAAIA,IAAI,CAACiB,GAAL,CAAS8B,UAAT,KAAwBpD,IAAI,CAACA,IAAjC,EAAuC;AACrCA,MAAAA,IAAI,CAACA,IAAL,CAAUqD,WAAV,CAAsBhD,IAAI,CAACiB,GAA3B;AACD;AACF,GAJD;;AAKA,OAAKgC,IAAL,GAAY,UAAUjD,IAAV,EAAgB;AAC1BH,IAAAA,SAAS,CAAC4C,MAAV,CAAiBzC,IAAjB;AACAL,IAAAA,IAAI,CAACA,IAAL,CAAUuD,WAAV,CAAsBlD,IAAI,CAACiB,GAA3B;AACD,GAHD;;AAIA,OAAKkC,IAAL,GAAY,UAAUnD,IAAV,EAAgB;AAC1B,QAAIA,IAAI,CAACiB,GAAL,KAAaC,SAAb,IAA0BlB,IAAI,CAACiB,GAAL,CAAS8B,UAAT,KAAwBpD,IAAI,CAACA,IAA3D,EAAiE;AAC/DA,MAAAA,IAAI,CAACA,IAAL,CAAUqD,WAAV,CAAsBhD,IAAI,CAACiB,GAA3B;AACD;AACF,GAJD;;AAKA,OAAKmC,KAAL,GAAa,YAAY;AACvB;AACA,QAAIzD,IAAI,CAACA,IAAL,CAAU0D,aAAV,EAAJ,EAA+B;AAC7B,aAAO1D,IAAI,CAACA,IAAL,CAAUmC,UAAV,CAAqBd,MAArB,IAA+B,CAAtC,EAAyC;AACvCrB,QAAAA,IAAI,CAACA,IAAL,CAAUqD,WAAV,CAAsBrD,IAAI,CAACA,IAAL,CAAU2D,UAAhC;AACD;AACF;AACF,GAPD;;AASAxD,EAAAA,IAAI;AACL,CA9LD;;AAgMAyD,MAAM,CAACC,OAAP,GAAiB,UAAU7D,IAAV,EAAgB;AAC/B,SAAO,IAAID,SAAJ,CAAcC,IAAd,CAAP;AACD,CAFD","sourcesContent":["var Templater = function (list) {\n  var createItem,\n    templater = this\n\n  var init = function () {\n    var itemSource\n\n    if (typeof list.item === 'function') {\n      createItem = function (values) {\n        var item = list.item(values)\n        return getItemSource(item)\n      }\n      return\n    }\n\n    if (typeof list.item === 'string') {\n      if (list.item.indexOf('<') === -1) {\n        itemSource = document.getElementById(list.item)\n      } else {\n        itemSource = getItemSource(list.item)\n      }\n    } else {\n      /* If item source does not exists, use the first item in list as\n      source for new items */\n      itemSource = getFirstListItem()\n    }\n\n    if (!itemSource) {\n      throw new Error(\"The list needs to have at least one item on init otherwise you'll have to add a template.\")\n    }\n\n    itemSource = createCleanTemplateItem(itemSource, list.valueNames)\n\n    createItem = function () {\n      return itemSource.cloneNode(true)\n    }\n  }\n\n  var createCleanTemplateItem = function (templateNode, valueNames) {\n    var el = templateNode.cloneNode(true)\n    el.removeAttribute('id')\n\n    for (var i = 0, il = valueNames.length; i < il; i++) {\n      var elm = undefined,\n        valueName = valueNames[i]\n      if (valueName.data) {\n        for (var j = 0, jl = valueName.data.length; j < jl; j++) {\n          el.setAttribute('data-' + valueName.data[j], '')\n        }\n      } else if (valueName.attr && valueName.name) {\n        elm = list.utils.getByClass(el, valueName.name, true)\n        if (elm) {\n          elm.setAttribute(valueName.attr, '')\n        }\n      } else {\n        elm = list.utils.getByClass(el, valueName, true)\n        if (elm) {\n          elm.innerHTML = ''\n        }\n      }\n    }\n    return el\n  }\n\n  var getFirstListItem = function () {\n    var nodes = list.list.childNodes\n\n    for (var i = 0, il = nodes.length; i < il; i++) {\n      // Only textnodes have a data attribute\n      if (nodes[i].data === undefined) {\n        return nodes[i].cloneNode(true)\n      }\n    }\n    return undefined\n  }\n\n  var getItemSource = function (itemHTML) {\n    if (typeof itemHTML !== 'string') return undefined\n    if (/<tr[\\s>]/g.exec(itemHTML)) {\n      var tbody = document.createElement('tbody')\n      tbody.innerHTML = itemHTML\n      return tbody.firstElementChild\n    } else if (itemHTML.indexOf('<') !== -1) {\n      var div = document.createElement('div')\n      div.innerHTML = itemHTML\n      return div.firstElementChild\n    }\n    return undefined\n  }\n\n  var getValueName = function (name) {\n    for (var i = 0, il = list.valueNames.length; i < il; i++) {\n      var valueName = list.valueNames[i]\n      if (valueName.data) {\n        var data = valueName.data\n        for (var j = 0, jl = data.length; j < jl; j++) {\n          if (data[j] === name) {\n            return { data: name }\n          }\n        }\n      } else if (valueName.attr && valueName.name && valueName.name == name) {\n        return valueName\n      } else if (valueName === name) {\n        return name\n      }\n    }\n  }\n\n  var setValue = function (item, name, value) {\n    var elm = undefined,\n      valueName = getValueName(name)\n    if (!valueName) return\n    if (valueName.data) {\n      item.elm.setAttribute('data-' + valueName.data, value)\n    } else if (valueName.attr && valueName.name) {\n      elm = list.utils.getByClass(item.elm, valueName.name, true)\n      if (elm) {\n        elm.setAttribute(valueName.attr, value)\n      }\n    } else {\n      elm = list.utils.getByClass(item.elm, valueName, true)\n      if (elm) {\n        elm.innerHTML = value\n      }\n    }\n  }\n\n  this.get = function (item, valueNames) {\n    templater.create(item)\n    var values = {}\n    for (var i = 0, il = valueNames.length; i < il; i++) {\n      var elm = undefined,\n        valueName = valueNames[i]\n      if (valueName.data) {\n        for (var j = 0, jl = valueName.data.length; j < jl; j++) {\n          values[valueName.data[j]] = list.utils.getAttribute(item.elm, 'data-' + valueName.data[j])\n        }\n      } else if (valueName.attr && valueName.name) {\n        elm = list.utils.getByClass(item.elm, valueName.name, true)\n        values[valueName.name] = elm ? list.utils.getAttribute(elm, valueName.attr) : ''\n      } else {\n        elm = list.utils.getByClass(item.elm, valueName, true)\n        values[valueName] = elm ? elm.innerHTML : ''\n      }\n    }\n    return values\n  }\n\n  this.set = function (item, values) {\n    if (!templater.create(item)) {\n      for (var v in values) {\n        if (values.hasOwnProperty(v)) {\n          setValue(item, v, values[v])\n        }\n      }\n    }\n  }\n\n  this.create = function (item) {\n    if (item.elm !== undefined) {\n      return false\n    }\n    item.elm = createItem(item.values())\n    templater.set(item, item.values())\n    return true\n  }\n  this.remove = function (item) {\n    if (item.elm.parentNode === list.list) {\n      list.list.removeChild(item.elm)\n    }\n  }\n  this.show = function (item) {\n    templater.create(item)\n    list.list.appendChild(item.elm)\n  }\n  this.hide = function (item) {\n    if (item.elm !== undefined && item.elm.parentNode === list.list) {\n      list.list.removeChild(item.elm)\n    }\n  }\n  this.clear = function () {\n    /* .innerHTML = ''; fucks up IE */\n    if (list.list.hasChildNodes()) {\n      while (list.list.childNodes.length >= 1) {\n        list.list.removeChild(list.list.firstChild)\n      }\n    }\n  }\n\n  init()\n}\n\nmodule.exports = function (list) {\n  return new Templater(list)\n}\n"]},"metadata":{},"sourceType":"script"}