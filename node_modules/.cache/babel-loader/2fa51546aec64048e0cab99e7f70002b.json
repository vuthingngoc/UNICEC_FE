{"ast":null,"code":"var naturalSort = require('string-natural-compare'),\n    getByClass = require('./utils/get-by-class'),\n    extend = require('./utils/extend'),\n    indexOf = require('./utils/index-of'),\n    events = require('./utils/events'),\n    toString = require('./utils/to-string'),\n    classes = require('./utils/classes'),\n    getAttribute = require('./utils/get-attribute'),\n    toArray = require('./utils/to-array');\n\nmodule.exports = function (id, options, values) {\n  var self = this,\n      init,\n      Item = require('./item')(self),\n      addAsync = require('./add-async')(self),\n      initPagination = require('./pagination')(self);\n\n  init = {\n    start: function start() {\n      self.listClass = 'list';\n      self.searchClass = 'search';\n      self.sortClass = 'sort';\n      self.page = 10000;\n      self.i = 1;\n      self.items = [];\n      self.visibleItems = [];\n      self.matchingItems = [];\n      self.searched = false;\n      self.filtered = false;\n      self.searchColumns = undefined;\n      self.searchDelay = 0;\n      self.handlers = {\n        updated: []\n      };\n      self.valueNames = [];\n      self.utils = {\n        getByClass: getByClass,\n        extend: extend,\n        indexOf: indexOf,\n        events: events,\n        toString: toString,\n        naturalSort: naturalSort,\n        classes: classes,\n        getAttribute: getAttribute,\n        toArray: toArray\n      };\n      self.utils.extend(self, options);\n      self.listContainer = typeof id === 'string' ? document.getElementById(id) : id;\n\n      if (!self.listContainer) {\n        return;\n      }\n\n      self.list = getByClass(self.listContainer, self.listClass, true);\n      self.parse = require('./parse')(self);\n      self.templater = require('./templater')(self);\n      self.search = require('./search')(self);\n      self.filter = require('./filter')(self);\n      self.sort = require('./sort')(self);\n      self.fuzzySearch = require('./fuzzy-search')(self, options.fuzzySearch);\n      this.handlers();\n      this.items();\n      this.pagination();\n      self.update();\n    },\n    handlers: function handlers() {\n      for (var handler in self.handlers) {\n        if (self[handler] && self.handlers.hasOwnProperty(handler)) {\n          self.on(handler, self[handler]);\n        }\n      }\n    },\n    items: function items() {\n      self.parse(self.list);\n\n      if (values !== undefined) {\n        self.add(values);\n      }\n    },\n    pagination: function pagination() {\n      if (options.pagination !== undefined) {\n        if (options.pagination === true) {\n          options.pagination = [{}];\n        }\n\n        if (options.pagination[0] === undefined) {\n          options.pagination = [options.pagination];\n        }\n\n        for (var i = 0, il = options.pagination.length; i < il; i++) {\n          initPagination(options.pagination[i]);\n        }\n      }\n    }\n  };\n  /*\n   * Re-parse the List, use if html have changed\n   */\n\n  this.reIndex = function () {\n    self.items = [];\n    self.visibleItems = [];\n    self.matchingItems = [];\n    self.searched = false;\n    self.filtered = false;\n    self.parse(self.list);\n  };\n\n  this.toJSON = function () {\n    var json = [];\n\n    for (var i = 0, il = self.items.length; i < il; i++) {\n      json.push(self.items[i].values());\n    }\n\n    return json;\n  };\n  /*\n   * Add object to list\n   */\n\n\n  this.add = function (values, callback) {\n    if (values.length === 0) {\n      return;\n    }\n\n    if (callback) {\n      addAsync(values.slice(0), callback);\n      return;\n    }\n\n    var added = [],\n        notCreate = false;\n\n    if (values[0] === undefined) {\n      values = [values];\n    }\n\n    for (var i = 0, il = values.length; i < il; i++) {\n      var item = null;\n      notCreate = self.items.length > self.page ? true : false;\n      item = new Item(values[i], undefined, notCreate);\n      self.items.push(item);\n      added.push(item);\n    }\n\n    self.update();\n    return added;\n  };\n\n  this.show = function (i, page) {\n    this.i = i;\n    this.page = page;\n    self.update();\n    return self;\n  };\n  /* Removes object from list.\n   * Loops through the list and removes objects where\n   * property \"valuename\" === value\n   */\n\n\n  this.remove = function (valueName, value, options) {\n    var found = 0;\n\n    for (var i = 0, il = self.items.length; i < il; i++) {\n      if (self.items[i].values()[valueName] == value) {\n        self.templater.remove(self.items[i], options);\n        self.items.splice(i, 1);\n        il--;\n        i--;\n        found++;\n      }\n    }\n\n    self.update();\n    return found;\n  };\n  /* Gets the objects in the list which\n   * property \"valueName\" === value\n   */\n\n\n  this.get = function (valueName, value) {\n    var matchedItems = [];\n\n    for (var i = 0, il = self.items.length; i < il; i++) {\n      var item = self.items[i];\n\n      if (item.values()[valueName] == value) {\n        matchedItems.push(item);\n      }\n    }\n\n    return matchedItems;\n  };\n  /*\n   * Get size of the list\n   */\n\n\n  this.size = function () {\n    return self.items.length;\n  };\n  /*\n   * Removes all items from the list\n   */\n\n\n  this.clear = function () {\n    self.templater.clear();\n    self.items = [];\n    return self;\n  };\n\n  this.on = function (event, callback) {\n    self.handlers[event].push(callback);\n    return self;\n  };\n\n  this.off = function (event, callback) {\n    var e = self.handlers[event];\n    var index = indexOf(e, callback);\n\n    if (index > -1) {\n      e.splice(index, 1);\n    }\n\n    return self;\n  };\n\n  this.trigger = function (event) {\n    var i = self.handlers[event].length;\n\n    while (i--) {\n      self.handlers[event][i](self);\n    }\n\n    return self;\n  };\n\n  this.reset = {\n    filter: function filter() {\n      var is = self.items,\n          il = is.length;\n\n      while (il--) {\n        is[il].filtered = false;\n      }\n\n      return self;\n    },\n    search: function search() {\n      var is = self.items,\n          il = is.length;\n\n      while (il--) {\n        is[il].found = false;\n      }\n\n      return self;\n    }\n  };\n\n  this.update = function () {\n    var is = self.items,\n        il = is.length;\n    self.visibleItems = [];\n    self.matchingItems = [];\n    self.templater.clear();\n\n    for (var i = 0; i < il; i++) {\n      if (is[i].matching() && self.matchingItems.length + 1 >= self.i && self.visibleItems.length < self.page) {\n        is[i].show();\n        self.visibleItems.push(is[i]);\n        self.matchingItems.push(is[i]);\n      } else if (is[i].matching()) {\n        self.matchingItems.push(is[i]);\n        is[i].hide();\n      } else {\n        is[i].hide();\n      }\n    }\n\n    self.trigger('updated');\n    return self;\n  };\n\n  init.start();\n};","map":{"version":3,"sources":["C:/Users/PC/Desktop/UNICS_FE/node_modules/list.js/src/index.js"],"names":["naturalSort","require","getByClass","extend","indexOf","events","toString","classes","getAttribute","toArray","module","exports","id","options","values","self","init","Item","addAsync","initPagination","start","listClass","searchClass","sortClass","page","i","items","visibleItems","matchingItems","searched","filtered","searchColumns","undefined","searchDelay","handlers","updated","valueNames","utils","listContainer","document","getElementById","list","parse","templater","search","filter","sort","fuzzySearch","pagination","update","handler","hasOwnProperty","on","add","il","length","reIndex","toJSON","json","push","callback","slice","added","notCreate","item","show","remove","valueName","value","found","splice","get","matchedItems","size","clear","event","off","e","index","trigger","reset","is","matching","hide"],"mappings":"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","sourcesContent":["var naturalSort = require('string-natural-compare'),\n  getByClass = require('./utils/get-by-class'),\n  extend = require('./utils/extend'),\n  indexOf = require('./utils/index-of'),\n  events = require('./utils/events'),\n  toString = require('./utils/to-string'),\n  classes = require('./utils/classes'),\n  getAttribute = require('./utils/get-attribute'),\n  toArray = require('./utils/to-array')\n\nmodule.exports = function (id, options, values) {\n  var self = this,\n    init,\n    Item = require('./item')(self),\n    addAsync = require('./add-async')(self),\n    initPagination = require('./pagination')(self)\n\n  init = {\n    start: function () {\n      self.listClass = 'list'\n      self.searchClass = 'search'\n      self.sortClass = 'sort'\n      self.page = 10000\n      self.i = 1\n      self.items = []\n      self.visibleItems = []\n      self.matchingItems = []\n      self.searched = false\n      self.filtered = false\n      self.searchColumns = undefined\n      self.searchDelay = 0\n      self.handlers = { updated: [] }\n      self.valueNames = []\n      self.utils = {\n        getByClass: getByClass,\n        extend: extend,\n        indexOf: indexOf,\n        events: events,\n        toString: toString,\n        naturalSort: naturalSort,\n        classes: classes,\n        getAttribute: getAttribute,\n        toArray: toArray,\n      }\n\n      self.utils.extend(self, options)\n\n      self.listContainer = typeof id === 'string' ? document.getElementById(id) : id\n      if (!self.listContainer) {\n        return\n      }\n      self.list = getByClass(self.listContainer, self.listClass, true)\n\n      self.parse = require('./parse')(self)\n      self.templater = require('./templater')(self)\n      self.search = require('./search')(self)\n      self.filter = require('./filter')(self)\n      self.sort = require('./sort')(self)\n      self.fuzzySearch = require('./fuzzy-search')(self, options.fuzzySearch)\n\n      this.handlers()\n      this.items()\n      this.pagination()\n\n      self.update()\n    },\n    handlers: function () {\n      for (var handler in self.handlers) {\n        if (self[handler] && self.handlers.hasOwnProperty(handler)) {\n          self.on(handler, self[handler])\n        }\n      }\n    },\n    items: function () {\n      self.parse(self.list)\n      if (values !== undefined) {\n        self.add(values)\n      }\n    },\n    pagination: function () {\n      if (options.pagination !== undefined) {\n        if (options.pagination === true) {\n          options.pagination = [{}]\n        }\n        if (options.pagination[0] === undefined) {\n          options.pagination = [options.pagination]\n        }\n        for (var i = 0, il = options.pagination.length; i < il; i++) {\n          initPagination(options.pagination[i])\n        }\n      }\n    },\n  }\n\n  /*\n   * Re-parse the List, use if html have changed\n   */\n  this.reIndex = function () {\n    self.items = []\n    self.visibleItems = []\n    self.matchingItems = []\n    self.searched = false\n    self.filtered = false\n    self.parse(self.list)\n  }\n\n  this.toJSON = function () {\n    var json = []\n    for (var i = 0, il = self.items.length; i < il; i++) {\n      json.push(self.items[i].values())\n    }\n    return json\n  }\n\n  /*\n   * Add object to list\n   */\n  this.add = function (values, callback) {\n    if (values.length === 0) {\n      return\n    }\n    if (callback) {\n      addAsync(values.slice(0), callback)\n      return\n    }\n    var added = [],\n      notCreate = false\n    if (values[0] === undefined) {\n      values = [values]\n    }\n    for (var i = 0, il = values.length; i < il; i++) {\n      var item = null\n      notCreate = self.items.length > self.page ? true : false\n      item = new Item(values[i], undefined, notCreate)\n      self.items.push(item)\n      added.push(item)\n    }\n    self.update()\n    return added\n  }\n\n  this.show = function (i, page) {\n    this.i = i\n    this.page = page\n    self.update()\n    return self\n  }\n\n  /* Removes object from list.\n   * Loops through the list and removes objects where\n   * property \"valuename\" === value\n   */\n  this.remove = function (valueName, value, options) {\n    var found = 0\n    for (var i = 0, il = self.items.length; i < il; i++) {\n      if (self.items[i].values()[valueName] == value) {\n        self.templater.remove(self.items[i], options)\n        self.items.splice(i, 1)\n        il--\n        i--\n        found++\n      }\n    }\n    self.update()\n    return found\n  }\n\n  /* Gets the objects in the list which\n   * property \"valueName\" === value\n   */\n  this.get = function (valueName, value) {\n    var matchedItems = []\n    for (var i = 0, il = self.items.length; i < il; i++) {\n      var item = self.items[i]\n      if (item.values()[valueName] == value) {\n        matchedItems.push(item)\n      }\n    }\n    return matchedItems\n  }\n\n  /*\n   * Get size of the list\n   */\n  this.size = function () {\n    return self.items.length\n  }\n\n  /*\n   * Removes all items from the list\n   */\n  this.clear = function () {\n    self.templater.clear()\n    self.items = []\n    return self\n  }\n\n  this.on = function (event, callback) {\n    self.handlers[event].push(callback)\n    return self\n  }\n\n  this.off = function (event, callback) {\n    var e = self.handlers[event]\n    var index = indexOf(e, callback)\n    if (index > -1) {\n      e.splice(index, 1)\n    }\n    return self\n  }\n\n  this.trigger = function (event) {\n    var i = self.handlers[event].length\n    while (i--) {\n      self.handlers[event][i](self)\n    }\n    return self\n  }\n\n  this.reset = {\n    filter: function () {\n      var is = self.items,\n        il = is.length\n      while (il--) {\n        is[il].filtered = false\n      }\n      return self\n    },\n    search: function () {\n      var is = self.items,\n        il = is.length\n      while (il--) {\n        is[il].found = false\n      }\n      return self\n    },\n  }\n\n  this.update = function () {\n    var is = self.items,\n      il = is.length\n\n    self.visibleItems = []\n    self.matchingItems = []\n    self.templater.clear()\n    for (var i = 0; i < il; i++) {\n      if (is[i].matching() && self.matchingItems.length + 1 >= self.i && self.visibleItems.length < self.page) {\n        is[i].show()\n        self.visibleItems.push(is[i])\n        self.matchingItems.push(is[i])\n      } else if (is[i].matching()) {\n        self.matchingItems.push(is[i])\n        is[i].hide()\n      } else {\n        is[i].hide()\n      }\n    }\n    self.trigger('updated')\n    return self\n  }\n\n  init.start()\n}\n"]},"metadata":{},"sourceType":"script"}