{"ast":null,"code":"module.exports = function (_list) {\n  var item, text, columns, searchString, customSearch;\n  var prepare = {\n    resetList: function resetList() {\n      _list.i = 1;\n\n      _list.templater.clear();\n\n      customSearch = undefined;\n    },\n    setOptions: function setOptions(args) {\n      if (args.length == 2 && args[1] instanceof Array) {\n        columns = args[1];\n      } else if (args.length == 2 && typeof args[1] == 'function') {\n        columns = undefined;\n        customSearch = args[1];\n      } else if (args.length == 3) {\n        columns = args[1];\n        customSearch = args[2];\n      } else {\n        columns = undefined;\n      }\n    },\n    setColumns: function setColumns() {\n      if (_list.items.length === 0) return;\n\n      if (columns === undefined) {\n        columns = _list.searchColumns === undefined ? prepare.toArray(_list.items[0].values()) : _list.searchColumns;\n      }\n    },\n    setSearchString: function setSearchString(s) {\n      s = _list.utils.toString(s).toLowerCase();\n      s = s.replace(/[-[\\]{}()*+?.,\\\\^$|#]/g, '\\\\$&'); // Escape regular expression characters\n\n      searchString = s;\n    },\n    toArray: function toArray(values) {\n      var tmpColumn = [];\n\n      for (var name in values) {\n        tmpColumn.push(name);\n      }\n\n      return tmpColumn;\n    }\n  };\n  var search = {\n    list: function list() {\n      // Extract quoted phrases \"word1 word2\" from original searchString\n      // searchString is converted to lowercase by List.js\n      var words = [],\n          phrase,\n          ss = searchString;\n\n      while ((phrase = ss.match(/\"([^\"]+)\"/)) !== null) {\n        words.push(phrase[1]);\n        ss = ss.substring(0, phrase.index) + ss.substring(phrase.index + phrase[0].length);\n      } // Get remaining space-separated words (if any)\n\n\n      ss = ss.trim();\n      if (ss.length) words = words.concat(ss.split(/\\s+/));\n\n      for (var k = 0, kl = _list.items.length; k < kl; k++) {\n        var item = _list.items[k];\n        item.found = false;\n        if (!words.length) continue;\n\n        for (var i = 0, il = words.length; i < il; i++) {\n          var word_found = false;\n\n          for (var j = 0, jl = columns.length; j < jl; j++) {\n            var values = item.values(),\n                column = columns[j];\n\n            if (values.hasOwnProperty(column) && values[column] !== undefined && values[column] !== null) {\n              var text = typeof values[column] !== 'string' ? values[column].toString() : values[column];\n\n              if (text.toLowerCase().indexOf(words[i]) !== -1) {\n                // word found, so no need to check it against any other columns\n                word_found = true;\n                break;\n              }\n            }\n          } // this word not found? no need to check any other words, the item cannot match\n\n\n          if (!word_found) break;\n        }\n\n        item.found = word_found;\n      }\n    },\n    // Removed search.item() and search.values()\n    reset: function reset() {\n      _list.reset.search();\n\n      _list.searched = false;\n    }\n  };\n\n  var searchMethod = function searchMethod(str) {\n    _list.trigger('searchStart');\n\n    prepare.resetList();\n    prepare.setSearchString(str);\n    prepare.setOptions(arguments); // str, cols|searchFunction, searchFunction\n\n    prepare.setColumns();\n\n    if (searchString === '') {\n      search.reset();\n    } else {\n      _list.searched = true;\n\n      if (customSearch) {\n        customSearch(searchString, columns);\n      } else {\n        search.list();\n      }\n    }\n\n    _list.update();\n\n    _list.trigger('searchComplete');\n\n    return _list.visibleItems;\n  };\n\n  _list.handlers.searchStart = _list.handlers.searchStart || [];\n  _list.handlers.searchComplete = _list.handlers.searchComplete || [];\n\n  _list.utils.events.bind(_list.utils.getByClass(_list.listContainer, _list.searchClass), 'keyup', _list.utils.events.debounce(function (e) {\n    var target = e.target || e.srcElement,\n        // IE have srcElement\n    alreadyCleared = target.value === '' && !_list.searched;\n\n    if (!alreadyCleared) {\n      // If oninput already have resetted the list, do nothing\n      searchMethod(target.value);\n    }\n  }, _list.searchDelay)); // Used to detect click on HTML5 clear button\n\n\n  _list.utils.events.bind(_list.utils.getByClass(_list.listContainer, _list.searchClass), 'input', function (e) {\n    var target = e.target || e.srcElement;\n\n    if (target.value === '') {\n      searchMethod('');\n    }\n  });\n\n  return searchMethod;\n};","map":{"version":3,"sources":["C:/Users/PC/Desktop/UNICS_FE/node_modules/list.js/src/search.js"],"names":["module","exports","list","item","text","columns","searchString","customSearch","prepare","resetList","i","templater","clear","undefined","setOptions","args","length","Array","setColumns","items","searchColumns","toArray","values","setSearchString","s","utils","toString","toLowerCase","replace","tmpColumn","name","push","search","words","phrase","ss","match","substring","index","trim","concat","split","k","kl","found","il","word_found","j","jl","column","hasOwnProperty","indexOf","reset","searched","searchMethod","str","trigger","arguments","update","visibleItems","handlers","searchStart","searchComplete","events","bind","getByClass","listContainer","searchClass","debounce","e","target","srcElement","alreadyCleared","value","searchDelay"],"mappings":"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","sourcesContent":["module.exports = function (list) {\n  var item, text, columns, searchString, customSearch\n\n  var prepare = {\n    resetList: function () {\n      list.i = 1\n      list.templater.clear()\n      customSearch = undefined\n    },\n    setOptions: function (args) {\n      if (args.length == 2 && args[1] instanceof Array) {\n        columns = args[1]\n      } else if (args.length == 2 && typeof args[1] == 'function') {\n        columns = undefined\n        customSearch = args[1]\n      } else if (args.length == 3) {\n        columns = args[1]\n        customSearch = args[2]\n      } else {\n        columns = undefined\n      }\n    },\n    setColumns: function () {\n      if (list.items.length === 0) return\n      if (columns === undefined) {\n        columns = list.searchColumns === undefined ? prepare.toArray(list.items[0].values()) : list.searchColumns\n      }\n    },\n    setSearchString: function (s) {\n      s = list.utils.toString(s).toLowerCase()\n      s = s.replace(/[-[\\]{}()*+?.,\\\\^$|#]/g, '\\\\$&') // Escape regular expression characters\n      searchString = s\n    },\n    toArray: function (values) {\n      var tmpColumn = []\n      for (var name in values) {\n        tmpColumn.push(name)\n      }\n      return tmpColumn\n    },\n  }\n  var search = {\n    list: function () {\n      // Extract quoted phrases \"word1 word2\" from original searchString\n      // searchString is converted to lowercase by List.js\n      var words = [],\n        phrase,\n        ss = searchString\n      while ((phrase = ss.match(/\"([^\"]+)\"/)) !== null) {\n        words.push(phrase[1])\n        ss = ss.substring(0, phrase.index) + ss.substring(phrase.index + phrase[0].length)\n      }\n      // Get remaining space-separated words (if any)\n      ss = ss.trim()\n      if (ss.length) words = words.concat(ss.split(/\\s+/))\n      for (var k = 0, kl = list.items.length; k < kl; k++) {\n        var item = list.items[k]\n        item.found = false\n        if (!words.length) continue\n        for (var i = 0, il = words.length; i < il; i++) {\n          var word_found = false\n          for (var j = 0, jl = columns.length; j < jl; j++) {\n            var values = item.values(),\n              column = columns[j]\n            if (values.hasOwnProperty(column) && values[column] !== undefined && values[column] !== null) {\n              var text = typeof values[column] !== 'string' ? values[column].toString() : values[column]\n              if (text.toLowerCase().indexOf(words[i]) !== -1) {\n                // word found, so no need to check it against any other columns\n                word_found = true\n                break\n              }\n            }\n          }\n          // this word not found? no need to check any other words, the item cannot match\n          if (!word_found) break\n        }\n        item.found = word_found\n      }\n    },\n    // Removed search.item() and search.values()\n    reset: function () {\n      list.reset.search()\n      list.searched = false\n    },\n  }\n\n  var searchMethod = function (str) {\n    list.trigger('searchStart')\n\n    prepare.resetList()\n    prepare.setSearchString(str)\n    prepare.setOptions(arguments) // str, cols|searchFunction, searchFunction\n    prepare.setColumns()\n\n    if (searchString === '') {\n      search.reset()\n    } else {\n      list.searched = true\n      if (customSearch) {\n        customSearch(searchString, columns)\n      } else {\n        search.list()\n      }\n    }\n\n    list.update()\n    list.trigger('searchComplete')\n    return list.visibleItems\n  }\n\n  list.handlers.searchStart = list.handlers.searchStart || []\n  list.handlers.searchComplete = list.handlers.searchComplete || []\n\n  list.utils.events.bind(\n    list.utils.getByClass(list.listContainer, list.searchClass),\n    'keyup',\n    list.utils.events.debounce(function (e) {\n      var target = e.target || e.srcElement, // IE have srcElement\n        alreadyCleared = target.value === '' && !list.searched\n      if (!alreadyCleared) {\n        // If oninput already have resetted the list, do nothing\n        searchMethod(target.value)\n      }\n    }, list.searchDelay)\n  )\n\n  // Used to detect click on HTML5 clear button\n  list.utils.events.bind(list.utils.getByClass(list.listContainer, list.searchClass), 'input', function (e) {\n    var target = e.target || e.srcElement\n    if (target.value === '') {\n      searchMethod('')\n    }\n  })\n\n  return searchMethod\n}\n"]},"metadata":{},"sourceType":"script"}