{"ast":null,"code":"module.exports = function (list) {\n  var Item = require('./item')(list);\n\n  var getChildren = function getChildren(parent) {\n    var nodes = parent.childNodes,\n        items = [];\n\n    for (var i = 0, il = nodes.length; i < il; i++) {\n      // Only textnodes have a data attribute\n      if (nodes[i].data === undefined) {\n        items.push(nodes[i]);\n      }\n    }\n\n    return items;\n  };\n\n  var parse = function parse(itemElements, valueNames) {\n    for (var i = 0, il = itemElements.length; i < il; i++) {\n      list.items.push(new Item(valueNames, itemElements[i]));\n    }\n  };\n\n  var parseAsync = function parseAsync(itemElements, valueNames) {\n    var itemsToIndex = itemElements.splice(0, 50); // TODO: If < 100 items, what happens in IE etc?\n\n    parse(itemsToIndex, valueNames);\n\n    if (itemElements.length > 0) {\n      setTimeout(function () {\n        parseAsync(itemElements, valueNames);\n      }, 1);\n    } else {\n      list.update();\n      list.trigger('parseComplete');\n    }\n  };\n\n  list.handlers.parseComplete = list.handlers.parseComplete || [];\n  return function () {\n    var itemsToIndex = getChildren(list.list),\n        valueNames = list.valueNames;\n\n    if (list.indexAsync) {\n      parseAsync(itemsToIndex, valueNames);\n    } else {\n      parse(itemsToIndex, valueNames);\n    }\n  };\n};","map":{"version":3,"sources":["C:/Users/PC/Desktop/UNICS_FE/node_modules/list.js/src/parse.js"],"names":["module","exports","list","Item","require","getChildren","parent","nodes","childNodes","items","i","il","length","data","undefined","push","parse","itemElements","valueNames","parseAsync","itemsToIndex","splice","setTimeout","update","trigger","handlers","parseComplete","indexAsync"],"mappings":"AAAAA,MAAM,CAACC,OAAP,GAAiB,UAAUC,IAAV,EAAgB;AAC/B,MAAIC,IAAI,GAAGC,OAAO,CAAC,QAAD,CAAP,CAAkBF,IAAlB,CAAX;;AAEA,MAAIG,WAAW,GAAG,SAAdA,WAAc,CAAUC,MAAV,EAAkB;AAClC,QAAIC,KAAK,GAAGD,MAAM,CAACE,UAAnB;AAAA,QACEC,KAAK,GAAG,EADV;;AAEA,SAAK,IAAIC,CAAC,GAAG,CAAR,EAAWC,EAAE,GAAGJ,KAAK,CAACK,MAA3B,EAAmCF,CAAC,GAAGC,EAAvC,EAA2CD,CAAC,EAA5C,EAAgD;AAC9C;AACA,UAAIH,KAAK,CAACG,CAAD,CAAL,CAASG,IAAT,KAAkBC,SAAtB,EAAiC;AAC/BL,QAAAA,KAAK,CAACM,IAAN,CAAWR,KAAK,CAACG,CAAD,CAAhB;AACD;AACF;;AACD,WAAOD,KAAP;AACD,GAVD;;AAYA,MAAIO,KAAK,GAAG,SAARA,KAAQ,CAAUC,YAAV,EAAwBC,UAAxB,EAAoC;AAC9C,SAAK,IAAIR,CAAC,GAAG,CAAR,EAAWC,EAAE,GAAGM,YAAY,CAACL,MAAlC,EAA0CF,CAAC,GAAGC,EAA9C,EAAkDD,CAAC,EAAnD,EAAuD;AACrDR,MAAAA,IAAI,CAACO,KAAL,CAAWM,IAAX,CAAgB,IAAIZ,IAAJ,CAASe,UAAT,EAAqBD,YAAY,CAACP,CAAD,CAAjC,CAAhB;AACD;AACF,GAJD;;AAKA,MAAIS,UAAU,GAAG,SAAbA,UAAa,CAAUF,YAAV,EAAwBC,UAAxB,EAAoC;AACnD,QAAIE,YAAY,GAAGH,YAAY,CAACI,MAAb,CAAoB,CAApB,EAAuB,EAAvB,CAAnB,CADmD,CACL;;AAC9CL,IAAAA,KAAK,CAACI,YAAD,EAAeF,UAAf,CAAL;;AACA,QAAID,YAAY,CAACL,MAAb,GAAsB,CAA1B,EAA6B;AAC3BU,MAAAA,UAAU,CAAC,YAAY;AACrBH,QAAAA,UAAU,CAACF,YAAD,EAAeC,UAAf,CAAV;AACD,OAFS,EAEP,CAFO,CAAV;AAGD,KAJD,MAIO;AACLhB,MAAAA,IAAI,CAACqB,MAAL;AACArB,MAAAA,IAAI,CAACsB,OAAL,CAAa,eAAb;AACD;AACF,GAXD;;AAaAtB,EAAAA,IAAI,CAACuB,QAAL,CAAcC,aAAd,GAA8BxB,IAAI,CAACuB,QAAL,CAAcC,aAAd,IAA+B,EAA7D;AAEA,SAAO,YAAY;AACjB,QAAIN,YAAY,GAAGf,WAAW,CAACH,IAAI,CAACA,IAAN,CAA9B;AAAA,QACEgB,UAAU,GAAGhB,IAAI,CAACgB,UADpB;;AAGA,QAAIhB,IAAI,CAACyB,UAAT,EAAqB;AACnBR,MAAAA,UAAU,CAACC,YAAD,EAAeF,UAAf,CAAV;AACD,KAFD,MAEO;AACLF,MAAAA,KAAK,CAACI,YAAD,EAAeF,UAAf,CAAL;AACD;AACF,GATD;AAUD,CA7CD","sourcesContent":["module.exports = function (list) {\n  var Item = require('./item')(list)\n\n  var getChildren = function (parent) {\n    var nodes = parent.childNodes,\n      items = []\n    for (var i = 0, il = nodes.length; i < il; i++) {\n      // Only textnodes have a data attribute\n      if (nodes[i].data === undefined) {\n        items.push(nodes[i])\n      }\n    }\n    return items\n  }\n\n  var parse = function (itemElements, valueNames) {\n    for (var i = 0, il = itemElements.length; i < il; i++) {\n      list.items.push(new Item(valueNames, itemElements[i]))\n    }\n  }\n  var parseAsync = function (itemElements, valueNames) {\n    var itemsToIndex = itemElements.splice(0, 50) // TODO: If < 100 items, what happens in IE etc?\n    parse(itemsToIndex, valueNames)\n    if (itemElements.length > 0) {\n      setTimeout(function () {\n        parseAsync(itemElements, valueNames)\n      }, 1)\n    } else {\n      list.update()\n      list.trigger('parseComplete')\n    }\n  }\n\n  list.handlers.parseComplete = list.handlers.parseComplete || []\n\n  return function () {\n    var itemsToIndex = getChildren(list.list),\n      valueNames = list.valueNames\n\n    if (list.indexAsync) {\n      parseAsync(itemsToIndex, valueNames)\n    } else {\n      parse(itemsToIndex, valueNames)\n    }\n  }\n}\n"]},"metadata":{},"sourceType":"script"}